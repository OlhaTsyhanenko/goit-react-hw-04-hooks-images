(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={app:"app_app__lkops",emptyGallery:"app_emptyGallery__2rIKz"}},11:function(e,t,a){e.exports={modal__overley:"modal_modal__overley__1orbD",modal:"modal_modal__1uyoE"}},12:function(e,t,a){e.exports={imageGalleryItem:"imageGalleryItem_imageGalleryItem__3qVIF",imageGalleryItem__image:"imageGalleryItem_imageGalleryItem__image__1m117"}},14:function(e,t,a){e.exports={imageGallery:"imageGallery_imageGallery__1Xkhk"}},15:function(e,t,a){e.exports={button:"button_button__ChEre"}},17:function(e,t,a){e.exports={loader:"loader_loader__13EET"}},22:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),s=(a(22),a(13)),i=a(3),l=a(8),u=(a(23),a(10)),m=a.n(u),b=a(11),j=a.n(b),_=a(1),h=document.querySelector("#modal-root");function d(e){var t=e.onClose,a=e.largeImage;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}),[]);var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(_.jsx)("div",{className:j.a.modal__overley,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(_.jsx)("div",{className:j.a.modal,children:Object(_.jsx)("img",{src:a,alt:""})})}),h)}var f=a(5),g=a.n(f);function p(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(_.jsx)("header",{className:g.a.searchbar,children:Object(_.jsxs)("form",{className:g.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):Object(l.b)("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441")},children:[Object(_.jsx)("button",{type:"submit",className:g.a.searchForm__button,children:Object(_.jsx)("span",{className:g.a.searchForm__button_label,children:"Search"})}),Object(_.jsx)("input",{className:g.a.searchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var O=a(12),y=a.n(O),x=function(e){var t=e.image,a=e.onImageClick;return Object(_.jsx)("li",{className:y.a.imageGalleryItem,children:Object(_.jsx)("img",{src:t.webformatURL,alt:t.tags,onClick:function(){return a(t.largeImageURL)},className:y.a.imageGalleryItem__image})})},v=a(14),k=a.n(v),F=function(e){var t=e.data,a=e.onImageClick;return Object(_.jsx)("ul",{className:k.a.imageGallery,children:t.map((function(e){return Object(_.jsx)(x,{image:e,onImageClick:a},e.id)}))})},I=a(15),C=a.n(I),N=function(e){var t=e.onClick;return Object(_.jsx)("div",{children:Object(_.jsx)("button",{type:"button",className:C.a.button,onClick:t,children:"Load more"})})},S=a(16),w=a.n(S),G=a(17),E=a.n(G),T=function(){return Object(_.jsx)("div",{className:E.a.loader,children:Object(_.jsx)(w.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100,timeout:3e3})})};function L(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),u=o[0],b=o[1],j=Object(n.useState)(!1),h=Object(i.a)(j,2),f=h[0],g=h[1],O=Object(n.useState)(""),y=Object(i.a)(O,2),x=y[0],v=y[1],k=Object(n.useState)(1),I=Object(i.a)(k,2),C=I[0],S=I[1],w=Object(n.useState)(""),G=Object(i.a)(w,2),E=G[0],L=G[1],q=Object(n.useState)(null),B=Object(i.a)(q,2),D=B[0],J=B[1],z=Object(n.useState)(!1),H=Object(i.a)(z,2),K=H[0],M=H[1];Object(n.useEffect)((function(){x&&R()}),[x]);var R=function(){g(!0),M(!1),function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="23047569-c77e6b9c2c44e7090fa2652c3";return fetch("https://pixabay.com/api/?q=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","&page=").concat(e,"&key=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12 ")).then((function(e){if(e.ok)return e.json()})).then((function(e){return e.hits}))}(x,C).then((function(e){c((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),S((function(e){return e+1})),""!==x&&0===e.length&&M(!0),1!==C&&U()})).catch((function(e){return J(e)})).finally((function(){g(!1)}))},U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},P=a.length>0&&a.length>=12;return Object(_.jsxs)("div",{className:m.a.app,children:[Object(_.jsx)(p,{onSubmit:function(e){v(e),S(1),c([])}}),Object(_.jsx)(F,{onImageClick:function(e){L(e),b(!0)},data:a}),f&&Object(_.jsx)(T,{}),K&&Object(_.jsx)("h2",{className:m.a.emptyGallery,children:"The gallery is empty! Try another query!"}),P&&Object(_.jsx)(N,{onClick:R}),u&&Object(_.jsx)(d,{onClose:function(){b((function(e){return!e})),L("")},largeImage:E}),D&&Object(_.jsx)("h2",{children:D.message}),Object(_.jsx)(l.a,{autoClose:2e3})]})}o.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(L,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"searchbar_searchbar__3lJ3K",searchForm:"searchbar_searchForm__BNpTH",searchForm__button:"searchbar_searchForm__button__2c1ZN",searchForm__button_label:"searchbar_searchForm__button_label__3sxFv",searchForm__input:"searchbar_searchForm__input__1Q8nM"}}},[[45,1,2]]]);
//# sourceMappingURL=main.738241c2.chunk.js.map