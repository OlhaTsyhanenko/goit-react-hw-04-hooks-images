{"version":3,"sources":["app.module.css","components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","components/Loader/loader.module.css","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","api.js","index.js","components/Searchbar/searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","onClose","largeImage","useEffect","window","addEventListener","handleKeydown","removeEventListener","e","code","createPortal","className","styles","modal__overley","onClick","currentTarget","target","modal","src","alt","Searchbar","onSubmit","useState","query","setQuery","searchbar","searchForm","preventDefault","trim","toast","type","searchForm__button","searchForm__button_label","searchForm__input","autoComplete","autoFocus","placeholder","name","value","onChange","toLowerCase","ImageGalleryItem","image","onImageClick","imageGalleryItem","webformatURL","tags","largeImageURL","imageGalleryItem__image","ImageGallery","data","imageGallery","map","id","Button","button","Loader","loader","color","height","width","timeout","App","setData","showModal","setShowModal","isLoading","setIsLoading","page","setPage","setLargeImage","error","setError","setShowMessage","fetchData","keyApi","fetch","then","response","ok","json","hits","dataApi","prevState","scrollOnLoadButton","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","showLoadMore","length","message","app","fullImageUrl","emptyGallery","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9312a240.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__lkops\",\"emptyGallery\":\"app_emptyGallery__2rIKz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal__overley\":\"modal_modal__overley__1orbD\",\"modal\":\"modal_modal__1uyoE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__3qVIF\",\"imageGalleryItem__image\":\"imageGalleryItem_imageGalleryItem__image__1m117\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__1Xkhk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__ChEre\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__13EET\"};","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ onClose, largeImage }) {\r\n    \r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeydown)\r\n        return () => {\r\n      window.removeEventListener('keydown', handleKeydown);\r\n    };\r\n    },[])\r\n\r\n    const handleKeydown = e => {\r\n        if (e.code === 'Escape') {\r\n            // console.log('нажали Escape');\r\n            onClose();\r\n        }\r\n    }\r\n    \r\n    const handleOverleyClick = e => {\r\n        // console.log('currentTarget', e.currentTarget);\r\n        // console.log('target', e.target);\r\n        if (e.currentTarget === e.target) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    return createPortal(\r\n            <div className={styles.modal__overley} onClick={handleOverleyClick}>\r\n                <div className={styles.modal}>\r\n                    <img src={largeImage} alt='' /></div>\r\n        \r\n            </div>,\r\n            modalRoot);\r\n    \r\n}\r\n\r\nModal.propTypes = {\r\n    onClose: PropTypes.func,\r\n    largeImage: PropTypes.string,\r\n}\r\n\r\n\r\n\r\n ","import { useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport styles from '../Searchbar/searchbar.module.css'\r\n\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n    const [query, setQuery] = useState('');\r\n\r\n    const handleQueryChange = e => {\r\n        setQuery( e.currentTarget.value.toLowerCase());\r\n    }\r\n    \r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (query.trim() === '') {\r\n            toast(\"Введите запрос\");\r\n            return;\r\n        }\r\n\r\n        onSubmit(query);\r\n        setQuery('');\r\n    }\r\n    return (\r\n        <header className={styles.searchbar}>\r\n            <form className={styles.searchForm} onSubmit={handleSubmit}>\r\n                <button type=\"submit\" className={styles.searchForm__button} >\r\n                    <span className={styles.searchForm__button_label}>Search</span>\r\n                </button>\r\n                <input\r\n                    className={styles.searchForm__input}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    name=\"query\"\r\n                    value={query}\r\n                    onChange={handleQueryChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func,\r\n}","import PropTypes from 'prop-types';\r\nimport styles from '../ImageGalleryItem/imageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image, onImageClick }) => {\r\n  \r\n  return (\r\n    <li className={styles.imageGalleryItem}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n        onClick={() => onImageClick(image.largeImageURL)}\r\n        className ={styles.imageGalleryItem__image}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string,\r\n  }),\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\n export default ImageGalleryItem;\r\n\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from '../ImageGallery/imageGallery.module.css';\r\n\r\nconst ImageGallery = ({ data, onImageClick }) => (\r\n  <ul className={styles.imageGallery}>\r\n    {data.map(image => {\r\n      return (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          onImageClick={onImageClick}\r\n        />\r\n      );\r\n    })}\r\n  </ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n  data: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n","import PropTypes from 'prop-types';\r\nimport styles from '../Button/button.module.css';\r\n\r\nconst Button = ({ onClick }) => (\r\n  <div>\r\n    <button type=\"button\" className={styles.button} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import Spinner from \"react-loader-spinner\";\r\nimport styles from '../Loader/loader.module.css';\r\n\r\nconst Loader = () => (\r\n  <div className={styles.loader}>\r\n    <Spinner type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} />\r\n  </div>\r\n);\r\nexport default Loader;","import { useEffect, useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport styles from '../src/app.module.css';\nimport * as dataApi from './api';\nimport Modal from './components/Modal/Modal';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\n\nexport default function App() {\n  const [data, setData] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [largeImage, setLargeImage] = useState('');\n  const [error, setError] = useState(null);\n  const [showMessage, setShowMessage] = useState(false);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchData();\n  },[query])\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n    setPage(1);\n    setData([]);\n  }\n\n  const fetchData = () => {\n    setIsLoading(true);\n    setShowMessage(false);\n    \n    dataApi\n      .fetchData(query, page)\n      .then((data) => {\n        setData(prevState => [...prevState, ...data]);\n        setPage(prevState => prevState+1);\n\n        if (page !== 1) {\n          scrollOnLoadButton();\n        }\n      })\n      .catch(error => setError( error ))\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n    const scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    };\n  \n  const handleGalleryItem = fullImageUrl => {\n    setLargeImage(fullImageUrl);\n    setShowModal(true);\n  };\n\n  const toggleModal = () => {\n    setShowModal(prevState => !prevState);\n    setLargeImage('');\n    \n  };\n  \n  const showLoadMore = data.length > 0 && data.length >= 12;\n  const message = data.length === 0 && query !== '';\n    \n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery onImageClick={handleGalleryItem} data={data} />\n        {isLoading && <Loader />}\n        {message && <h2 className={styles.emptyGallery}>The gallery is empty! Try another query!</h2>}\n        {showLoadMore && <Button onClick={fetchData} />}\n        {showModal && <Modal onClose={toggleModal} largeImage={largeImage} />}\n        {error && <h2>{error.message}</h2>}\n        <ToastContainer autoClose={2000}/>\n    </div>  \n    )\n}\n\n","export const fetchData = (query = '', page = 1) => {\r\n    const keyApi = '23047569-c77e6b9c2c44e7090fa2652c3';\r\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12 `)\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n    })\r\n    .then(data => data.hits);\r\n  \r\n}\r\n\r\nexport { fetchData as default };\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__3lJ3K\",\"searchForm\":\"searchbar_searchForm__BNpTH\",\"searchForm__button\":\"searchbar_searchForm__button__2c1ZN\",\"searchForm__button_label\":\"searchbar_searchForm__button_label__3sxFv\",\"searchForm__input\":\"searchbar_searchForm__input__1Q8nM\"};"],"sourceRoot":""}